<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WebMind - AI Web Scanner</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-[#0b0f19] text-[#e2e8f0] m-0">
  
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    const FontImport = () => (
      <style>
        {`
          @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
          body { font-family: 'JetBrains Mono', monospace; }
          
          .thinking-dots::after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
          }
          @keyframes dots {
            0%, 20% { color: rgba(0,0,0,0); text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            40% { color: #00f0ff; text-shadow: .25em 0 0 rgba(0,0,0,0), .5em 0 0 rgba(0,0,0,0); }
            60% { text-shadow: .25em 0 0 #00f0ff, .5em 0 0 rgba(0,0,0,0); }
            80%, 100% { text-shadow: .25em 0 0 #00f0ff, .5em 0 0 #00f0ff; }
          }

          /* Класс для карточки авто-конспекта */
          .summary-card {
            background-color: rgba(0, 240, 255, 0.05);
            border: 2px solid #00f0ff;
            box-shadow: 0 0 20px rgba(0, 240, 255, 0.15);
            color: #e2e8f0;
          }
        `}
      </style>
    );

    const formatInline = (text) => {
      const parts = text.split(/(\*\*.*?\*\*)/g);
      return parts.map((part, i) => {
        if (part.startsWith('**') && part.endsWith('**')) {
          return <strong key={i} className="text-white">{part.slice(2, -2)}</strong>;
        }
        return part;
      });
    };

    const formatMarkdown = (text) => {
      if (!text) return null;
      const lines = text.split('\n');
      return lines.map((line, i) => {
        const trimmed = line.trim();
        if (trimmed === '---') {
          return <hr key={i} className="border-[#00f0ff]/30 my-5 shadow-[0_0_10px_rgba(0,240,255,0.2)]" />;
        }
        if (trimmed.startsWith('# ')) {
          return <h1 key={i} className="text-xl font-bold text-[#00f0ff] mb-4 mt-2 drop-shadow-[0_0_5px_rgba(0,240,255,0.5)]">{formatInline(trimmed.slice(2))}</h1>;
        }
        if (trimmed.startsWith('## ')) {
          return <h2 key={i} className="text-lg font-bold text-[#e2e8f0] mb-3 mt-4">{formatInline(trimmed.slice(3))}</h2>;
        }
        if (trimmed.startsWith('### ')) {
          return <h3 key={i} className="text-md font-bold text-[#00f0ff] mb-2 mt-3">{formatInline(trimmed.slice(4))}</h3>;
        }
        if (trimmed.startsWith('> ')) {
          return <blockquote key={i} className="border-l-4 border-[#00f0ff] bg-[#00f0ff]/10 p-4 rounded-r italic text-gray-200 my-4 shadow-inner">{formatInline(trimmed.slice(2))}</blockquote>;
        }
        return <div key={i} className="mb-2 leading-relaxed">{formatInline(line)}</div>;
      });
    };

    // Функция-детектор для проверки, не заблокировал ли нас сайт
    const isBotBlocked = (text
